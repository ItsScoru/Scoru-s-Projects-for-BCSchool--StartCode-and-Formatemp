A – Partendo dal database già creato, scrivere le seguenti query, avendo cura di fare degli inserimenti se
il dato richiesto non compare:
1) Mostrare il numero dei libri dove nel titolo non compare la parola 'mare'.
2) Mostrare la somma del costo dei libri nella cui descrizione compare la parola 'romanzo'.
3) Mostrare i libri scritti dall’autore Ernest Hemingway.
4) Mostrare nome e cognome degli autori i cui libri contengono la parola 'romanzo' nella descrizione.
5) Mostrare i libri scritti da Ernest Hemingway il cui titolo inizia con 'Il vecchio'.
6) Mostrare nome e cognome degli autori che hanno scritto almeno un libro.
7) Mostrare gli autori in ordine di nascita.
8) Mostrare nome e cognome degli autori e quanti libri ha scritto ciascun autore.
9) Mostrare il costo complessivo dei libri di Ernest Hemingway.
10) Mostrare quali utenti hanno ricevuto in prestito 'Il vecchio e il mare' di Hemingway.
11) Mostrare tutti i titoli dei libri degli utenti che hanno una mail '@gmail.com'.
12) Mostrare tutti i titoli dei libri ed il relativo costo che ha preso in prestito chi si chiama 'Marco',
    inordine di costo discendente.
13) Mostrare nome e cognome degli utenti e la data di fine del prestito di coloro i quali hanno preso
    in prestito i libri con titolo che inizia con 'Il vecchio' o il cui ISBN è 'ABC12345G'.
14) Mostrare nome e cognome degli utenti che non hanno mai preso in prestito libri
15) Mostrare nome e cognome degli utenti che hanno preso in prestito libri dell’autore Ernest Hemingway.
16) Mostrare nome, cognome e conteggio dei libri presi in prestito, raggruppandoli per utente.
17) Mostrare nome, cognome e conteggio dei libri presi in prestito, raggruppandoli per utente, ma
    solo per gli utenti di nome Marco.
18) Mostrare nome, cognome e somma del costo dei libri presi in prestito, raggruppandoli per
utente, ma solo per chi ha chi un costo complessivo superiore a 10€.

-----------------------------------------------------------------------

SELECT COUNT(libro.ID)
FROM libro
WHERE libro.Titolo NOT LIKE "%mare%";

SELECT SUM(libro.Costo)
FROM libro
WHERE libro.Descrizione LIKE "%romanzo%";

SELECT libro.Titolo
FROM libro
INNER JOIN autore ON libro.ID_Autore = autore.ID
WHERE autore.Nome LIKE "%Ernest%" AND autore.Cognome LIKE "%Hemingway%";

SELECT libro.Titolo, autore.Nome, autore.Cognome
FROM libro
INNER JOIN autore ON libro.ID_Autore = autore.ID
WHERE autore.Nome LIKE "%Ernest%" AND autore.Cognome LIKE "%Hemingway%" AND libro.Titolo LIKE "%Il vecchio%";

SELECT DISTINCT autore.Nome, autore.Cognome
FROM autore
INNER JOIN libro ON autore.ID = libro.ID_Autore;

SELECT DISTINCT autore.Nome, autore.Cognome
FROM autore
ORDER BY autore.Data_di_nascita;

SELECT autore.Nome, autore.Cognome, COUNT(libro.ID)
FROM autore
LEFT JOIN libro ON libro.ID_Autore = autore.ID
GROUP BY autore.ID;

SELECT autore.Nome, autore.Cognome, SUM(libro.Costo) AS "Costo Complessivo"
FROM libro
INNER JOIN autore ON autore.ID = libro.ID_Autore
WHERE autore.Nome LIKE "%Ernest%" AND autore.Cognome LIKE "%Hemingway%";

SELECT utente.Nome, utente.Cognome, libro.Titolo, autore.Nome, autore.Cognome
FROM prestito
INNER JOIN utente ON prestito.ID_UTENTE = utente.ID
INNER JOIN libro ON prestito.ID_LIBRO = libro.ID
INNER JOIN autore ON autore.ID = libro.ID_Autore
WHERE libro.Titolo LIKE "%Il vecchio e il mare%" AND autore.Nome LIKE "%Ernest%" AND autore.Cognome LIKE "%Hemingway%";

SELECT libro.Titolo, utente.Nome, utente.Cognome
FROM prestito
INNER JOIN utente ON prestito.ID_UTENTE = utente.ID
INNER JOIN libro ON prestito.ID_LIBRO = libro.ID
WHERE utente.Email LIKE "%gmail%";

SELECT libro.Titolo, libro.Costo, utente.Nome
FROM prestito
INNER JOIN utente ON prestito.ID_UTENTE = utente.ID
INNER JOIN libro ON prestito.ID_LIBRO = libro.ID
WHERE utente.Nome LIKE "%Marco%"
ORDER BY libro.Costo DESC;

SELECT utente.Nome, utente.Cognome, prestito.DATA_FINE_PRESTITO
FROM prestito
INNER JOIN utente ON utente.ID = prestito.ID_UTENTE
INNER JOIN libro ON libro.ID = prestito.ID_LIBRO
WHERE libro.Titolo LIKE "%Il vecchio%" AND libro.ISBN LIKE "%ABC12345%";

SELECT utente.Nome, utente.Cognome
FROM utente
LEFT JOIN prestito ON prestito.ID_UTENTE = utente.ID
LEFT JOIN libro ON prestito.ID_LIBRO = libro.ID
WHERE prestito.ID_UTENTE IS NULL;

SELECT DISTINCT utente.Nome, utente.Cognome
FROM utente
INNER JOIN prestito ON prestito.ID_UTENTE = utente.ID
INNER JOIN libro ON prestito.ID_LIBRO = libro.ID
INNER JOIN autore ON libro.ID_Autore = autore.ID
WHERE autore.Nome LIKE "%Ernest%" AND autore.Cognome LIKE "%Hemingway%";

SELECT utente.Nome, utente.Cognome, COUNT(prestito.ID)
FROM utente
LEFT JOIN prestito ON prestito.ID_UTENTE = utente.ID
LEFT JOIN libro ON prestito.ID_LIBRO = libro.ID
GROUP BY utente.ID;

SELECT utente.Nome, utente.Cognome, COUNT(prestito.ID)
FROM utente
LEFT JOIN prestito ON prestito.ID_UTENTE = utente.ID
LEFT JOIN libro ON prestito.ID_LIBRO = libro.ID
GROUP BY utente.ID 
HAVING nome LIKE "%Marco%";

SELECT utente.Nome, utente.Cognome, COUNT(prestito.ID)
FROM utente
LEFT JOIN prestito ON prestito.ID_UTENTE = utente.ID
LEFT JOIN libro ON prestito.ID_LIBRO = libro.ID
GROUP BY utente.ID 
HAVING SUM(libro.Costo) > 10;